from flask import Flask, jsonify, request
import os

app = Flask(__name__)

# ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
@app.route("/")
def home():
    return """
    <h1>âœ… ÙˆØ¨â€ŒØ³Ø±ÙˆÛŒØ³ Flask Ø´Ù…Ø§ Ø±ÙˆÛŒ Render ÙØ¹Ø§Ù„ Ø§Ø³Øª!</h1>
    <p>Ø§ÛŒÙ† ÙˆØ¨â€ŒØ³Ø±ÙˆÛŒØ³ Ø¨Ø§ Flask Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ùˆ Ø¢Ù…Ø§Ø¯Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§Ø³Øª.</p>
    <ul>
        <li><a href="/api/hello">/api/hello</a> - Ù¾ÛŒØ§Ù… Ø³Ù„Ø§Ù…</li>
        <li><a href="/api/greet?name=Laia">/api/greet?name=Laia</a> - Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ Ø¨Ø§ Ù†Ø§Ù…</li>
    </ul>
    """

# API Ø³Ø§Ø¯Ù‡
@app.route("/api/hello")
def hello():
    return jsonify({"message": "Ø³Ù„Ø§Ù…! ÙˆØ¨â€ŒØ³Ø±ÙˆÛŒØ³ Ø´Ù…Ø§ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ğŸ‰"})

# API Ø¨Ø§ Ù¾Ø§Ø±Ø§Ù…ØªØ± ÙˆØ±ÙˆØ¯ÛŒ
@app.route("/api/greet")
def greet():
    name = request.args.get("name", "Ú©Ø§Ø±Ø¨Ø±")
    return jsonify({"message": f"Ø³Ù„Ø§Ù… {name} Ø¹Ø²ÛŒØ²! Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒ ğŸŒ¸"})

if __name__ == "__main__":
    # Render Ù¾ÙˆØ±Øª Ø±Ùˆ Ø§Ø² Ù…ØªØºÛŒØ± Ù…Ø­ÛŒØ·ÛŒ PORT Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯
    port = int(os.environ.get("PORT", 5000))
    app.run(host="0.0.0.0", port=port)
